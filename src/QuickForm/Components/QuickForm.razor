@using Microsoft.AspNetCore.Components.Forms
@using Blazored.FluentValidation

@typeparam TEntity where TEntity : class, new()

<EditForm EditContext="EditContext"
          OnSubmit="@OnSubmit" OnInvalidSubmit="@OnInvalidSubmit" OnValidSubmit="@OnValidSubmit"
          AdditionalAttributes="AdditionalAttributes?.AsReadOnly()">
    <DataAnnotationsValidator/>
    <FluentValidationValidator/>

    @foreach (var field in Fields)
    {
        @ChildContent(field)
    }

    @if (SubmitButtonTemplate is not null)
    {
        @SubmitButtonTemplate
    }
</EditForm>